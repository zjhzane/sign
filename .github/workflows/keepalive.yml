name: keep-hf-space-awake

on:
  schedule:
    - cron: "*/30 * * * *"      
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping app subdomain (HEAD)
        run: |
          # 用你的真实子域替换下面这行（一般是 <owner>-<space>.hf.space）
          curl -I --retry 3 --retry-delay 5 --max-time 20 https://rockydavis-ain8n.hf.space/ || true

      - name: Ping app health (可选, 若你实现了 /healthz)
        run: |
          curl -fsS --retry 3 --retry-delay 5 --max-time 20 https://rockydavis-ain8n.hf.space/healthz >/dev/null || true

      - name: Ping hub page (兜底，非必须)
        run: |
          curl -I --max-time 20 https://huggingface.co/spaces/rockydavis/ain8n || true
